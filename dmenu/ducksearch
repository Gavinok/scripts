#!/bin/dash

# Gives a dmenu prompt to search DuckDuckGo.
# Without input, will open DuckDuckGo.com.
# Anything else, it search it.

LAUNCER="dmenu"

localBROWSER="$BROWSER "
[ ! -z "$*" ] && localBROWSER="$*"

if [ -f ~/.config/bookmarks ]; then
	choice=$( (echo "ðŸ¦†" && cat ~/.config/bookmarks) | $LAUNCER -l 5 -i -p "Search:") || exit 1
else 
	choice=$(echo "ðŸ¦†" | $LAUNCER -i -p "Search DuckDuckGo:") || exit 1
fi
case "$choice" in 
	*ðŸ¦†*)
		setsid $localBROWSER"https://duckduckgo.com" &
		exit
		;;
	http*)
		setsid $localBROWSER"$(echo $choice | awk '{print $1}')" &
		exit
		;;
	*)
		setsid $localBROWSER"https://duckduckgo.com/?q=$choice" &1 && exit
		;;
esac
#vim:ft=sh
