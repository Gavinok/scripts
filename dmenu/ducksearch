#!/bin/sh

# Gives a dmenu prompt to search DuckDuckGo.
# Without input, will open DuckDuckGo.com.
# Anything else, it search it.

LAUNCER="dmenu"

if [ -f ~/.surf/bookmarks ]; then
	 choice=$( (echo "ðŸ¦†" && cat ~/.surf/bookmarks) | $LAUNCER -l 5 -i -p "Search:") || exit 1
else 
	choice=$(echo "ðŸ¦†" | $LAUNCER -i -p "Search DuckDuckGo:") || exit 1
fi

case "$choice" in 
  *ðŸ¦†*)
    $BROWSER  "https://duckduckgo.com" > ~/.surf/log 2>&1 && exit
    ;;
  http*)
    $BROWSER  "$choice" > ~/.surf/log 2>&1 && exit
    ;;
  *)
    $BROWSER  "https://duckduckgo.com/?q=$choice" > ~/.surf/log 2>&1 && exit
    ;;
esac
